#!/usr/bin/env bash
export PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
coordinates[0]='40.7142691,-74.0059738'
coordinates[1]='34.0522342,-118.2436829'
coordinates[2]='41.8500330,-87.6500549'
coordinates[3]='29.7632836,-95.3632736'
coordinates[4]='39.9523350,-75.1637878'
coordinates[5]='33.4483771,-112.0740356'
coordinates[6]='29.4241219,-98.4936295'
coordinates[7]='32.7153292,-117.1572571'
coordinates[8]='32.7830556,-96.8066635'
coordinates[9]='42.3314270,-83.0457535'
coordinates[10]='37.3393857,-121.8949585'
coordinates[11]='30.3321838,-81.6556473'
coordinates[12]='39.7683765,-86.1580429'
coordinates[13]='39.9611755,-82.9987946'
coordinates[14]='37.7749295,-122.4194183'
coordinates[15]='30.2671530,-97.7430573'
coordinates[16]='35.1495343,-90.0489807'
coordinates[17]='35.0867579,-90.0567551'
coordinates[18]='32.7254090,-97.3208466'
coordinates[19]='39.2903848,-76.6121902'
coordinates[20]='35.2270869,-80.8431244'
coordinates[21]='42.3584308,-71.0597763'
coordinates[22]='43.0389025,-87.9064713'
coordinates[23]='42.3334312,-71.0494919'
coordinates[24]='47.6062095,-122.3320694'
coordinates[25]='31.7587198,-106.4869308'
coordinates[26]='39.7391536,-104.9847031'
coordinates[27]='38.8951118,-77.0363693'
coordinates[28]='45.5234515,-122.6762085'
coordinates[29]='35.4675602,-97.5164261'
coordinates[30]='36.1658899,-86.7844467'
coordinates[31]='32.2217429,-110.9264755'
coordinates[32]='35.0844909,-106.6511383'
coordinates[33]='29.9546482,-90.0750732'
coordinates[34]='33.7669623,-118.1892319'
coordinates[35]='36.1749705,-115.1372223'
coordinates[36]='38.5815719,-121.4944000'
coordinates[37]='36.7477272,-119.7723694'
coordinates[38]='41.4994954,-81.6954117'
coordinates[39]='39.1300040,-94.5621796'
coordinates[40]='39.0997266,-94.5785675'
coordinates[41]='36.8529263,-75.9779816'
coordinates[42]='33.7489954,-84.3879852'
coordinates[43]='37.8043722,-122.2708054'
coordinates[44]='33.4222685,-111.8226395'
coordinates[45]='36.1539816,-95.9927750'
coordinates[46]='41.2586096,-95.9377899'
coordinates[47]='25.7742658,-80.1936569'
coordinates[48]='21.3069444,-157.8583374'
coordinates[49]='44.9799654,-93.2638397'
coordinates[50]='38.8338816,-104.8213654'
coordinates[51]='37.6922361,-97.3375473'
coordinates[52]='33.7455731,-117.8678360'
coordinates[53]='35.7868182,-78.6638947'
coordinates[54]='32.7356870,-97.1080627'
coordinates[55]='33.8352932,-117.9145050'
coordinates[56]='27.9475216,-82.4584274'
coordinates[57]='38.6272733,-90.1978912'
coordinates[58]='40.4406248,-79.9958878'
coordinates[59]='41.6639383,-83.5552139'
coordinates[60]='39.1620036,-84.4568863'
coordinates[61]='33.9533487,-117.3961563'
coordinates[62]='35.3732921,-119.0187149'
coordinates[63]='37.9577016,-121.2907791'
coordinates[64]='40.7356570,-74.1723633'
coordinates[65]='42.8864468,-78.8783722'
coordinates[66]='27.8005828,-97.3963776'
coordinates[67]='39.7294319,-104.8319168'
coordinates[68]='35.7720960,-78.6386108'
coordinates[69]='44.9444101,-93.0932770'
coordinates[70]='38.0497996,-84.4585495'
coordinates[71]='61.2180556,-149.9002838'
coordinates[72]='33.0198431,-96.6988831'
coordinates[73]='27.7708606,-82.6792679'
coordinates[74]='38.2542376,-85.7594070'
coordinates[75]='40.8000011,-96.6669617'
coordinates[76]='33.5386523,-112.1859894'
coordinates[77]='36.0396988,-114.9819336'
coordinates[78]='40.7281575,-74.0776443'
coordinates[79]='36.8468146,-76.2852173'
coordinates[80]='33.3061605,-111.8412476'
coordinates[81]='36.0726355,-79.7919769'
coordinates[82]='33.5206608,-86.8024902'
coordinates[83]='41.1306041,-85.1288605'
coordinates[84]='37.9886892,-84.4777145'
coordinates[85]='25.8575963,-80.2781067'
coordinates[86]='43.0730517,-89.4012299'
coordinates[87]='30.4507462,-91.1545486'
coordinates[88]='32.9126240,-96.6388855'
coordinates[89]='37.6390972,-120.9968796'
coordinates[90]='36.0971945,-115.1466675'
coordinates[91]='32.6400541,-117.0841980'
coordinates[92]='33.5778631,-101.8551636'
coordinates[93]='43.1547845,-77.6155548'
coordinates[94]='27.5064070,-99.5075455'
coordinates[95]='41.0814447,-81.5190048'
coordinates[96]='28.5383355,-81.3792343'
coordinates[97]='35.9940329,-78.8986206'
coordinates[98]='34.1605626,-118.2645187'
coordinates[99]='33.5092103,-111.8990326'

coordinate=${coordinates[$RANDOM % ${#coordinates[@]} ]}
count=$(find /var/www/html/trainer/jsons/*.json 2>/dev/null | wc -l)
count="$(($count + 1))"

IFS=',' read -a myarray <<< "$coordinate"

command="/usr/local/bin/scrape-twitter search --query 'lang:en geocode:$coordinate,50km' --type latest --count 2750 > /var/www/html/trainer/jsons/log_${myarray[0]}_${myarray[1]}_$count.json 2>&1  "
eval $command
